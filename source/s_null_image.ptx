<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="s_null_image" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Null space and image</title>

    <introduction>
        <p>
            In this section we introduce two subspaces associated to a linear transformation <m>T\colon V\rightarrow W</m>: the null space and image. 
        </p>
    </introduction>
    <subsection xml:id="ss_null_image_def">
    <title>Definition and examples</title>
    <definition xml:id="d_null_image">
    <title>Null space and image</title>
    <statement>
    <p>
    Let <m>T\colon V\rightarrow W</m> be a linear transformation. 
    <ul>
        <li>
            <title>Null space of <m>T</m></title>
            <p>
                The <term>null space</term> of <m>T</m> is the subset <m>\NS T</m> of <m>V</m> defined as 
                <men xml:id="eq_null">
                    \NS T=\{v\in V\colon T(v)=\boldzero\}
                </men>.
            </p>
        </li>
        <li>
            <title>Image of <m>T</m></title>
            <p>
                The <term>image</term> (or <term>range</term>) of <m>T</m> is the subset <m>\im T</m> of <m>W</m> defined as 
                <men xml:id="eq_image">
                    \im T=\{w\in W\colon w=T(v) \text{ for some } v\in V\}
                </men>.
            </p>
        </li>
    </ul>
    </p>
    </statement>
    </definition>
    <remark xml:id="rm_nullspace_image">
        <title>Null space and image</title>
        <p>
        We gather a few simple observations about the null space and image of a linear map <m>T\colon V\rightarrow W</m>
        <ol>
          <li>
            <p>
              Let <m>T\colon V\rightarrow W</m>. It is useful to keep in mind where <m>\NS T</m> and <m>\im T</m> <q>live</q> in this picture: we have <m>\NS T\subseteq V</m> and <m>\im T\subseteq W</m>. In other words, the null space is a subset of the domain, and the image is a subset of the codomain. See <xref ref="fig_null_image"/>.
            </p>
          </li>
          <li>
            <p>
              Note that the image <m>\im T</m> of a linear transformation is just its image when considered simply as a function of sets. (See <xref ref="d_image"/>.)
            </p>
          </li>
          <li>
            <p>
              The notion of a null space is analogous to the set of zeros (or roots) of a real-valued function <m>f\colon X\rightarrow \R</m>,
              <me>
                \{x\in X\colon f(x)=0\}
              </me>,
              and <q>the zeros of <m>T</m></q> is a useful English shorthand for <m>\NS T</m>.
               However, there is an important difference between the null space of a linear transformation and the zeros of an arbitrary real-valued function: the null space of a linear transformation comes with the added structure of a vector space (<xref ref="th_nullspace_image"/>), whereas the zeros of an arbitrary function in general do not.
            </p>
            <p>
              The same observation can be made about the image of a linear transformation (<xref ref="th_nullspace_image"/>), in comparison to the image of an arbitrary function.
            </p>
          </li>
        </ol>
    </p>
    </remark>
    
    <figure xml:id="fig_null_image">
      <title>Null space and image</title>
      <caption>Null space and image</caption>
      <sbsgroup>
      <sidebyside>
          <figure xml:id="fig_null_image_ambient">
          <caption>Null space lives in the domain; image lives in the codomain.</caption>
          <image xml:id="im_null_image">
          <latex-image>
    \begin{tikzpicture}
      \node[name=V,shape=ellipse,draw, thick,minimum width=1.75in, minimum height=2.5in, label={135:$V$}] at (0,0) {};
      \node[name=W,shape=ellipse,draw, thick,minimum width=1.75in, minimum height=2.5in, label={45:$W$}] at (8,0) {};
      \draw (0,0)  node[diamond,draw, minimum width=1.5in,minimum height=1.5in, rotate=0,fill=red!25, label={115:$\operatorname{null} T$}] (null) {};
      \draw (8,0)  node[minimum width=1.5in, minimum height=1.5in,diamond,draw,label={45:$\text{im} T$},fill=blue!25] (im) {};
      \path[->] (1.2,3.2) edge[bend left] node[above]{$T$}  (6.8,3.2);
    \end{tikzpicture}
  
          </latex-image>
        </image>
        </figure>
      </sidebyside>
  
        <sidebyside>
          <figure xml:id="fig_nullspace_to_zero">
            <caption>The entire null space gets mapped to <m>\boldzero_W</m>.</caption>
            <image xml:id="im_nullspace_to_zero">
              <latex-image>
            \begin{tikzpicture}
            \filldraw [black] (8,0) circle (3pt);
            \node[name=V,shape=ellipse,draw, thick,minimum width=1.75in, minimum height=2.5in, label={135:$V$}] at (0,0) {};
            \draw (0,0)  node[diamond,draw, minimum width=1.5in,minimum height=1.5in, rotate=0,fill=red!25, label={115:$\operatorname{null} T$}] (null) {};
            \node[name=W,shape=ellipse,draw, thick,minimum width=1.75in, minimum height=2.5in, label={45:$W$}] at (8,0) {};
            \draw node[above right] at (8,0) {$\mathbf{0}_W$};
            <!-- \filldraw [black] (10,0) circle (2pt); -->
            \path (null.east) edge[-{Latex[length=4mm, width=1.2mm]}] node[below] {$T$} (7.8,0){};
            \path (null.north) edge[-{Latex[length=4mm, width=1.2mm]}] node[above] {$T$} (7.8,0){};
            \path (null.south) edge[-{Latex[length=4mm, width=1.2mm]}]  node[below] {$T$} (7.8,0){};
            \end{tikzpicture}
            
              </latex-image>
            </image>
          </figure>
        </sidebyside>
        <sidebyside>
          <figure xml:id="fig_domain_to_image">
            <caption>The entire domain is mapped to <m>\im T</m>.</caption>
            <image xml:id="im_domain_to_image">
              <latex-image>
                \begin{tikzpicture}
                \node[name=V,shape=ellipse,draw, thick,minimum width=1.75in, minimum height=2.5in, fill=green!25,label={135:$V$}] at (0,0) {};
                \node[name=W,shape=ellipse,draw, thick,minimum width=1.75in, minimum height=2.5in, label={45:$W$}] at (8,0) {};
                \begin{scope}[on background layer]%
                \draw (8,0)  node[minimum width=1.5in, minimum height=1.5in,diamond,draw,label={45:$\text{im} T$},fill=blue!25] (im) {};
                \end{scope}
                \path (V.north) edge[-{Latex[length=3mm, width=2mm]}] node[below] {$T$} (im.north)[left]{};
                \path (V.east) edge[-{Latex[length=3mm, width=2mm]}] node[below] {$T$} (im.west)[left]{};
                \path (V.south) edge[-{Latex[length=3mm, width=2mm]}] node[below] {$T$} (im.south){};
                \end{tikzpicture}              
              </latex-image>
            </image>
          </figure>
        </sidebyside>
      </sbsgroup>
    </figure>



    <p>
        Before getting to examples we make official what we hinted at above: the null space and image of a linear transformation are subspaces. 
    </p>
        <theorem xml:id="th_nullspace_image">
            <title>Null space and image</title>
            <statement>
              <p>
              If <m>T\colon V\rightarrow W</m> is a linear transformation, then <m>\NS T</m> is a subspace of <m>V</m>, and <m>\im T</m> is a subspace of <m>W</m>.
              </p>
            </statement>
            <proof>
                <case>
                 <title>Null space of <m>T</m></title>
                <p>
                We use the two-step technique to prove <m>\NS T</m> is a subspace.
                
                <ol>
                  <li>
                    <p>
                      Since <m>T(\boldzero_V)=\boldzero_W</m> (<xref ref="th_transform_basic_props"/>), we see that <m>\boldzero_V\in \NS T</m>.
                    </p>
                  </li>
                  <li>
                    <p>
                      Suppose <m>\boldv_1, \boldv_2\in \NS T</m>. Given any <m>c,d\in \R</m>, we have
                      <md>
                        <mrow>T(c\boldv_1+d\boldv_2) \amp=cT(\boldv_1)+dT(\boldv_2) \amp (T \text{ is linear, } <xref ref="th_transform_basic_props"/>)</mrow>
                        <mrow> \amp=c\boldzero_W+d\boldzero_W \amp (\boldv_1, \boldv_2\in \NS T) </mrow>
                        <mrow>  \amp = \boldzero_W</mrow>
                      </md>.
                      This shows that <m>c\boldv_1+d\boldv_2\in \NS T</m>, completing our proof.
                    </p>
                  </li>
                </ol>
              </p>
                </case>
                <case>
                 <title>Image of <m>T</m></title>
                <p>
                  The proof proceeds in a similar manner, using the two-step technique. 
                
                <ol>
                  <li>
                    <p>
                      Since <m>T(\boldzero_V)=\boldzero_W</m> (<xref ref="th_transform_basic_props"/>), we see that <m>\boldzero_W</m> is <q>hit</q> by <m>T</m>, and hence is a member of <m>\im T</m>.
                    </p>
                  </li>
                  <li>
                    <p>
                      Assume vectors <m>\boldw_1, \boldw_2\in W</m> are elements of <m>\im T</m>. By definition, this means there are vectors <m>\boldv_1, \boldv_2\in V</m> such that <m>T(\boldv_i)=\boldw_i</m> for <m>1\leq i\leq 2</m>. Now given any linear combination <m>\boldw=c\boldw_1+d\boldw_2</m>, we have 
                      <md>
                        <mrow>T(c\boldv_1+d\boldv_2) \amp = cT(\boldv_1)+dT(\boldv_2)</mrow>
                        <mrow> \amp =c\boldw_1+d\boldw_2</mrow>
                        <mrow> \amp =\boldw</mrow>
                      </md>.
                      This shows that for any linear combination <m>\boldw=c\boldw_1+d\boldw_2</m>, there is an element <m>\boldv=c\boldv_1+d\boldv_2</m> such that <m>T(\boldv)=\boldw</m>. We conclude that if  <m>\boldw_1, \boldw_2\in \im T</m>, then <m>\boldw=c\boldw_1+d\boldw_2\in \im T</m> for any <m>c,d\in \R</m>, as desired. 
                    </p>
                  </li>
                </ol>
              </p>
                </case>
            </proof>
          </theorem>
    <example xml:id="eg_nullspace_image_transposition">
        <statement>
          <p>
            Define <m>F\colon F^{n,n}\rightarrow F^{n,n}</m> as <m>F(A)=A^T-A</m>.
          <ol>
            <li>
              <p>
                Prove that <m>F</m> is linear.
              </p>
            </li>
            <li>
              <p>
                Identify <m>\NS F</m> as a familiar matrix subspace.
              </p>
            </li>
            <li>
              <p>
                Identify <m>\im F</m> as a familiar matrix subspace.
              </p>
            </li>
          </ol>
        </p>
        </statement>
        <solution>
          <p>
            <ol>
              <li>
                <p>
                  Linearity is an easy consequence of transpose properties. For any <m>A_1, A_2\in F^{n,n}</m> and <m>c_1,c_2\in F</m>, we have
                  <md>
                    <mrow>F(c_1A_1+c_2A_2)  \amp= (c_1A_1+c_2A_2)^T-(c_1A_1+c_2A_2)  </mrow>
                    <mrow> \amp = c_1A_1^T+c_2A_2^T-c_1A_1-c_2A_2\amp (\text{transp. props}) </mrow>
                    <mrow>  \amp =c_1(A_1^T-A_1)+c_2(A_2^T-A_2)</mrow>
                    <mrow>  \amp =c_1F(A_1)+c_2F(A_2)</mrow>
                  </md>.
                </p>
                <p>
                  Alternatively, since we already showed that the transpose operator
                  <md>
                    <mrow>S\colon F^{nn} \amp \rightarrow F^{nn}</mrow>
                    <mrow>A \amp \mapsto A^T</mrow>
                  </md>
                  is linear on <m>V=F^{nn}</m>, and since <m>F=S-I_V</m>, it follows that <m>F</m> is linear. 
                </p>
              </li>
              <li>
                <p>
                  We have
                  <md>
                    <mrow>\NS F \amp= \{A\in F^{n,n}\colon F(A)=\boldzero\} </mrow>
                    <mrow> \amp=\{A\in F^{n,n}\colon A^T-A=\boldzero\} </mrow>
                    <mrow>  \amp=\{A\in F^{n,n}\colon A^T=A\} </mrow>
                  </md>.
                  Thus <m>\NS F</m> is the subspace of symmetric <m>n\times n</m> matrices!
                </p>
              </li>
              <li>
                <p>
                  Let <m>W=\{B\in F^{n,n}\colon B^T=-B\}</m>, subspace of skew-symmetric <m>n\times n</m> matrices. We claim <m>\im F=W</m>. As this is a set equality, we prove it by showing the two set inclusions <m>\im F\subseteq W</m> and <m>W\subseteq \im F</m>. (See <xref ref="ss_set_properties" text="title"/>)
                </p>
                <p>
                  The inclusion <m>\im F\subseteq W</m> is the easier of the two. If <m>B\in \im F</m>, then <m>B=F(A)=A^T-A</m> for some <m>A\in F^{n,n}</m>. Using various properties of transposition, we have
                  <me>
                    B^T=(A^T-A)^T=(A^T)^T-A^T=-(A^T-A)=-B
                  </me>,
                  showing that <m>B</m> is skew-symmetric, and thus <m>B\in W</m>, as desired.
                </p>
                <p>
                  The inclusion <m>W\subseteq \im F</m> is trickier: we must show that if <m>B</m> is skew-symmetric, then there is an <m>A</m> such that <m>B=F(A)=A^T-A</m>. Assume we have a <m>B</m> with <m>B^T=-B</m>. Letting <m>A=-\frac{1}{2}B</m> we have
                  <me>
                    A^T-A=(-\frac{1}{2}B)^T+\frac{1}{2}B=\frac{1}{2}(-B^T+B)=\frac{1}{2}(B+B)=B
                  </me>.
                  Thus we have found a matrix <m>A</m> satisfying <m>F(A)=B</m>. It follows that <m>B\in\im T</m>.
                </p>
              </li>
            </ol>
          </p>
        </solution>
      </example>

      <example xml:id="">
      <title>Differential operator</title>
      <statement>
        <p>
          Let <m>I</m> be an interval of <m>\R</m>.  Define <m>T\colon C^1(I)\rightarrow C(I)</m> as <m>F(f)=f'</m>.
        <ol>
          <li>
            <p>
              Identify <m>\NS T</m> as a familiar function subspace.
            </p>
          </li>
          <li>
            <p>
              Identify <m>\im T</m> as a familiar function subspace.
            </p>
          </li>
        </ol>
      </p>
      </statement>
      <solution>
      <p>
      
      </p>
      </solution>
      </example>
      <p>
        As illustrated by <xref ref="eg_nullspace_image_transposition"/>, <xref ref="th_nullspace_image"/> provides an alternative technique for proving that a subset of <m>W\subseteq V</m> is in fact a subspace: namely, find a linear transformation <m>T\colon V\rightarrow U</m> such that <m>W=\NS T</m>. Let's codify this in the form of a procedure.   
      </p>
      <algorithm xml:id="proc_subspace_as_null">
        <title>Subspaces as null space</title>
        <statement>
          <p>
            Let <m>V</m> be a vector space, and let <m>W</m> be a subset of <m>V</m>. The following procedure provides an indirect way of proving that <m>W</m> is a subspace of <m>V</m>. 
            <ol>
              <li>
                <p>
                  Produce a linear transformation <m>T\colon V\rightarrow U</m>. 
                </p>
              </li>
              <li>
                <p>
                  Show that <m>W=\NS T</m>. 
                </p>
              </li>
            </ol>
          </p>
        </statement>
      </algorithm>
      <example xml:id="eg_homog_diff_eqn">
      <title>Homogeneous linear differential equation</title>
      <statement>
      <p>
      Let <m>I</m> be an interval of <m>\R</m>, let <m>q_{n-1},q_{n-2},\dots, q_0</m> be continuous functions on <m>I</m> (<ie/>, <m>q_i\in C(I)</m>) for all <m>1\leq i\leq n-1</m>, and define <m>W</m> as the set of functions <m>f\in C^n(I)</m> satisfying the linear homogeneous differential equation 
      <men xml:id="eq_lin_homog_diff_eq">
        f^{(n)}(x)+q_{n-1}(x)f^{(n-1)}(x)+\cdots +q_1(x)f(x)+q_0(x)=0 \text{ for all } x\in I
      </men>. 
      Prove that <m>W</m> is a subspace of <m>C^n(I)</m>. 
      </p>
      </statement>
      <solution>
      <p>
      
      </p>
      </solution>
      </example>
      <example xml:id="eg_null_im_matrix">
      <title>Matrix transformation</title>
      <statement>
      <p>
      Let <m>A</m> be an <m>m\times n</m> matrix, and let <m>\bolda_1,\bolda_2,\dots, \bolda_n</m> be the <m>n</m> columns of <m>A</m>, considered as elements of <m>F^m</m>.   The null space and image of the corresponding matrix transformation <m>T_A\colon F^n\rightarrow F^m</m> can be identified with the following <em>fundamental spaces</em> of <m>A</m>:
      <md>
        <mrow>\NS T_A \amp = \NS A=\{\boldx\in F^n\colon A\boldx=\boldzero\}</mrow>
        <mrow>\im T_A \amp =\CS A=\Span(\bolda_1,\bolda_2,\dots, \bolda_n)</mrow>
      </md>.
      </p>
      </statement>
      <solution>
      <p>
      
      </p>
      </solution>
      </example>
      
      
    </subsection>
    <subsection xml:id="ss_rank_nullity">
    <title>Rank-nullity and friends</title>
      <theorem xml:id="th_inj_surj_bij">
      <title>Injective, surjective, bijective</title>
      <statement>
      <p>
      Let <m>T\colon V\rightarrow W</m> be a linear transformation. 
      <ol>
        <li>
          <p>
            <m>T</m> is injective if and only if <m>\NS T=\{\boldzero\}</m>. 
          </p>
        </li>
        <li>
          <p>
            <m>T</m> is surjective if and only if <m>\im T=W</m>. 
          </p>
        </li>
        <li>
          <p>
            <m>T</m> is bijective if and only if <m>\NS T=\{\boldzero\}</m> and <m>\im T=W</m>. 
          </p>
        </li>
      </ol>
      </p>
      </statement>
      <proof>
      <p>
      </p>
      </proof>
      </theorem>
    
    <theorem xml:id="th_rank_nullity">
    <title>Rank-nullity theorem</title>
    <statement>
    <p>
    Let <m>V</m> be a finite-dimensional vector space. If <m>T\colon V\rightarrow W</m> is a linear transformation, then 
    <men xml:id="eq_rank_null">
      \dim V=\dim\NS T+\dim W
    </men>.
    
    </p>
    </statement>
    <proof>
    <p>
    </p>
    </proof>
    </theorem>
    <corollary xml:id="cor_inj_surj_bij">
      <title>Injective, surjective, bijective</title>
      <statement>
        <p>
          Let <m>V</m> be a finite-dimensional vector space, and  let <m>T\colon V\rightarrow W</m> be a linear transformation.
          <ol>
            <li>
              <p>
                If <m>\dim V&gt; \dim W</m>, then <m>T</m> is not injective. 
              </p>
            </li>
            <li>
              <p>
                If <m>\dim V&lt; \dim W</m>, then <m>T</m> is not surjective. 
              </p>
            </li>
            <li>
              <p>
                Assume further that <m>\dim V=\dim W</m>. The following statements are equivalent. 
                <ol>
                  <li>
                    <p>
                      <m>T</m> is bijective. 
                    </p>
                  </li>
                  <li>
                    <p>
                      <m>T</m> is injective.
                    </p>
                  </li>
                  <li>
                    <p>
                      <m>T</m> is surjective.
                    </p>
                  </li>
                </ol>
              </p>
            </li>
          </ol>
        </p>
      </statement>
    </corollary>
    <example xml:id="eg_rank_null_polys">
    <title>Polynomial evaluation</title>
    <statement>
    <p>
    Let <m>n</m> be a positive integer, and let <m>\boldc=(c_1,c_2,\dots, c_{n+1})\in \C^{n+1}</m> be a choice of <m>n+1</m> complex inputs. Prove that for any choice <m>\boldd=(d_1,d_2,\dots, d_{n+1})\in \C^{n+1}</m> of <m>n+1</m> complex outputs there is a unique polynomial <m>f\in P_n(\C)</m> satisfying 
    <md>
      <mrow>f(c_1) \amp = d_1</mrow>
      <mrow>f(c_2) \amp = d_2</mrow>
      <mrow> \amp \vdots </mrow>
      <mrow>f(c_n) \amp = d_n</mrow>
    </md>.
    In other words, given any choice of values <m>d_k</m>, we can construct a unique polynomia <m>f\in P_n(\C)</m> whose value at <m>c_k</m> is <m>d_k</m> for all <m>1\leq k\leq n</m>. 
    </p>
    </statement>
    <solution>
    <p>
    
    </p>
    </solution>
    </example>
    
    </subsection>
</section>